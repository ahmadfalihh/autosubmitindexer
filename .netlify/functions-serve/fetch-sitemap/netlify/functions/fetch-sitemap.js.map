{
  "version": 3,
  "sources": ["../../../../Documents/Bismillah2025SarengUmateKanjengNabiMuhammad/autosubmitindexerbysitemap/netlify/functions/fetch-sitemap.js"],
  "sourceRoot": "C:/Users/user/AppData/Local/Temp/tmp-15672-k38w5DSLk0yt",
  "sourcesContent": ["// netlify/functions/fetch-sitemap.js\r\nexports.handler = async function (event, context) {\r\n    if (event.httpMethod !== \"POST\") {\r\n        return { statusCode: 405, body: \"Method Not Allowed\" };\r\n    }\r\n\r\n    try {\r\n        const { url } = JSON.parse(event.body);\r\n\r\n        if (!url) {\r\n            return { statusCode: 400, body: JSON.stringify({ error: \"Missing 'url' parameter\" }) };\r\n        }\r\n\r\n        // Fetch the sitemap from the server side\r\n        const response = await fetch(url);\r\n        if (!response.ok) {\r\n            return {\r\n                statusCode: response.status,\r\n                body: JSON.stringify({ error: `Failed to fetch sitemap: ${response.statusText}` })\r\n            };\r\n        }\r\n\r\n        const xmlData = await response.text();\r\n\r\n        return {\r\n            statusCode: 200,\r\n            body: JSON.stringify({ xmlData }),\r\n            headers: { \"Content-Type\": \"application/json\" }\r\n        };\r\n\r\n    } catch (err) {\r\n        return { statusCode: 500, body: JSON.stringify({ error: err.message }) };\r\n    }\r\n};\r\n"],
  "mappings": ";AACA,QAAQ,UAAU,eAAgB,OAAO,SAAS;AAC9C,MAAI,MAAM,eAAe,QAAQ;AAC7B,WAAO,EAAE,YAAY,KAAK,MAAM,qBAAqB;AAAA,EACzD;AAEA,MAAI;AACA,UAAM,EAAE,IAAI,IAAI,KAAK,MAAM,MAAM,IAAI;AAErC,QAAI,CAAC,KAAK;AACN,aAAO,EAAE,YAAY,KAAK,MAAM,KAAK,UAAU,EAAE,OAAO,0BAA0B,CAAC,EAAE;AAAA,IACzF;AAGA,UAAM,WAAW,MAAM,MAAM,GAAG;AAChC,QAAI,CAAC,SAAS,IAAI;AACd,aAAO;AAAA,QACH,YAAY,SAAS;AAAA,QACrB,MAAM,KAAK,UAAU,EAAE,OAAO,4BAA4B,SAAS,UAAU,GAAG,CAAC;AAAA,MACrF;AAAA,IACJ;AAEA,UAAM,UAAU,MAAM,SAAS,KAAK;AAEpC,WAAO;AAAA,MACH,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,QAAQ,CAAC;AAAA,MAChC,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,IAClD;AAAA,EAEJ,SAAS,KAAK;AACV,WAAO,EAAE,YAAY,KAAK,MAAM,KAAK,UAAU,EAAE,OAAO,IAAI,QAAQ,CAAC,EAAE;AAAA,EAC3E;AACJ;",
  "names": []
}
